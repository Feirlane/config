# use UTF8
set -g default-terminal "screen-256color"
set -g xterm-keys on
set -s escape-time 0
set -sg repeat-time 600
set -s quiet on

set -g terminal-overrides 'xterm*:smcup@:rmcup@'

set -g prefix C-a
unbind C-b
bind C-a send-prefix

set -g status-utf8 on
set -g utf8
setw -g utf8 on
set-window-option -g utf8 on

set -g history-limit 10000

setw -g aggressive-resize on

# disable visual alert of activity in other window
set -g visual-activity on
setw -g monitor-activity on

# use  | and - to split window
bind | split-window -h
bind - split-window -v

# enable the mouse
set -g mode-mouse on
set -g mouse-resize-pane on
set -g mouse-select-pane on
set -g mouse-select-window on

# allow naming panes
setw -g automatic-rename on
set -g set-titles on

# use the F keys to move windows
bind -n F10 new-window -c "#{pane_current_path}" # Use the path of the current window
bind -n F11 previous-window
bind -n F12 next-window

# reload ~/.tmux.conf 
bind r source-file ~/.tmux.conf \; display "Reloading config..."

# reorder windows
bind R move-window -r\;

# Status bar settings adapted from powerline
set -g status on
set -g status-utf8 on
set -g status-interval 1
set -g status-fg colour231
set -g status-bg colour234
set -g status-left-length 20
set -g status-left '#{?client_prefix,#[fg=#ffffff]#[bg=#d70000]#[bold],#[fg=#442f00]#[bg=#ffaf00]#[bold]} #S #{?client_prefix,#[fg=#d70000]#[bg=colour234]#[nobold],#[fg=#ffaf00]#[bg=colour234]#[nobold]}'
set -g status-right '#(eval cut -c3- ~/.tmux.conf | sh -s status_right)'
set -g status-right '#[fg=#afd700] #(date +%T) - #H #(uptime | cut -d":" -f 5) '
set -g status-right-length 150
set -g window-status-format "#[fg=#fffff,bg=colour234]#I #[fg=#ffffff] #[default]#W "
set -g window-status-current-format "#[fg=colour234,bg=#afd700]#[fg=#005f00,bg=#afd700] #I  #[fg=#005f00,bold]#W #[fg=#afd700,bg=colour234,nobold]"
set -g window-status-last-style fg=colour31
set-window-option -g window-status-fg colour249
set-window-option -g window-status-activity-attr none
set-window-option -g window-status-bell-attr none
set-window-option -g window-status-activity-fg yellow
set-window-option -g window-status-bell-fg red


## -- display -------------------------------------------------------------------
#set -g base-index 1 # start windows numbering at 1
#setw -g pane-base-index 1 # make pane numbering consistent with windows
#SETW -g automatic-rename on # rename window to reflect current program
## renumber windows when a window is closed
#set -g renumber-windows on
#set -g set-titles on # set terminal title
#set -g set-titles-string '#h ❐ #S ● #I #W'
#set -g display-panes-time 800 # slightly longer pane indicators display time
#set -g display-time 1000 # slightly longer status messages display time
#set -g status-interval 10 # redraw status line every 10 seconds
## 24 hour clock
#setw -g clock-mode-style 24
## clear both screen and history
#bind -n C-l send-keys C-l \; run 'tmux clear-history'
## activity
#set -g monitor-activity on
#set -g visual-activity off
## tmux theme, colors and status line
## available themes:
## - powerline (a powerline inspired theme)
## - powerline_patched_font (a powerline inspired theme using a patched font)
#tmux_conf_theme=powerline_patched_font
## -- navigation ----------------------------------------------------------------
## create new session
#bind C-c new-session
## find session
#bind C-f command-prompt -p find-session 'switch-client -t %%'
## split current window vertically, retain current path
#bind '"' split-window -h -c "#{pane_current_path}"
#bind _ split-window -h -c "#{pane_current_path}"
## split current window horizontally, retain current path
#unbind %
#bind % split-window -v -c "#{pane_current_path}"
#bind - split-window -v -c "#{pane_current_path}"
## pane navigation
#bind -r h select-pane -L # move left
#bind -r j select-pane -D # move down
#bind -r k select-pane -U # move up
#bind -r l select-pane -R # move right
#bind > swap-pane -D # swap current pane with the next one
#bind < swap-pane -U # swap current pane with the previous one
## maximize current pane
#bind + run 'cut -c3- ~/.tmux.conf | sh -s maximize_pane'
## pane resizing
#bind -r H resize-pane -L 2
#bind -r J resize-pane -D 2
#bind -r K resize-pane -U 2
#bind -r L resize-pane -R 2
## window navigation
#bind -r C-h previous-window # select previous window
#bind -r C-l next-window # select next window
#bind Space last-window # move to last active window
## toggle mouse
#bind m run "cut -c3- ~/.tmux.conf | sh -s toggle_mouse"
## -- copy mode -----------------------------------------------------------------
#bind Enter copy-mode # enter copy mode
#bind b list-buffers # list paster buffers
#bind p paste-buffer # paste from the top pate buffer
#bind P choose-buffer # choose which buffer to paste from
## the following vi-copy bindings match my vim settings
## see https://github.com/gpakosz/.vim.git
#bind -t vi-copy v begin-selection
#bind -t vi-copy C-v rectangle-toggle
#bind -t vi-copy y copy-selection
#bind -t vi-copy Escape cancel
#bind -t vi-copy H start-of-line
#bind -t vi-copy L end-of-line
## copy to Mac OSX pasteboard
#if 'which -s reattach-to-user-namespace' 'bind y run "tmux save-buffer - | reattach-to-user-namespace pbcopy"'
## -- user defined --------------------------------------------------------------
#if '[ -f ~/.tmux.conf.local ]' 'source ~/.tmux.conf.local'
## -- 8< ------------------------------------------------------------------------
#run 'cut -c3- ~/.tmux.conf | sh -s apply_theme $tmux_conf_theme'
#run 'for name in $(printenv | grep -Eo ^tmux_conf_[^=]+); do tmux setenv -gu $name; done;'
